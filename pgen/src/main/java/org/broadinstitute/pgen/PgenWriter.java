/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package org.broadinstitute.pgen;

import htsjdk.io.HtsPath;
import htsjdk.variant.variantcontext.VariantContext;
import htsjdk.variant.variantcontext.writer.VariantContextWriter;
import htsjdk.variant.vcf.VCFHeader;

import java.io.IOException;

public class PgenWriter implements VariantContextWriter {

    static {
        System.loadLibrary("pgen");
    }



    public int test(){
        return init(10);
    }

    private static native int init(int value);

    public PgenWriter(HtsPath file, long numberOfVariants){
        if(openPgen(file.getRawInputString(), numberOfVariants) != 0){
            throw new RuntimeException("failed");
        }
    }

    @Override
    public void writeHeader(final VCFHeader header) {

    }


    @Override
    public void close() {

    }

    @Override
    public boolean checkError() {
        return false;
    }

    @Override
    public void add(final VariantContext vc) {

    }

    @Override
    public void setHeader(final VCFHeader header) {

    }

    private  static native int openPgen(String file, long numberOfVariants);
}
